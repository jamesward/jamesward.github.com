
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Learning Scala: Function Literals - James Ward</title>
  <meta name="author" content="James Ward">

  
  <meta name="description" content="I&#8217;ve gradually been learning Scala over the past few months and I really have been enjoying it. For me Scala is like Shakespeare. It seems &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jamesward.github.com/2011/10/17/learning-scala-function-literals">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="James Ward" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-784803-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">James Ward</a></h1>
  
    <h2>Heroku | Java | Scala | Cloud | Open Source | Linux</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jamesward.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about-james-ward">About James Ward</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Learning Scala: Function Literals</h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T08:16:13-06:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>I&#8217;ve gradually been learning Scala over the past few months and I really have been enjoying it.  For me Scala is like Shakespeare.  It seems familiar and totally foreign at the same time.  I don&#8217;t enjoy Shakespeare plays nearly as much as someone who has taken the time to learn the language of Shakespeare.  Some have interpreted Scala being &#8220;familiar yet totally foreign&#8221; as Scala being &#8220;hard&#8221; but I&#8217;d say it&#8217;s just different.  With Scala there is probably more about programming that I need to unlearn than to learn.  My perspectives on programming languages have been shaped by the ones I&#8217;ve used most (Java, ActionScript, etc).  And now my perspecives are being reshaped.  It might take some time and work but I believe that using Scala will soon be very enjoyable for me.</p>

<p>Ok, enough fluff lets see some code!</p>

<p>My friend <a href="http://www.mslinn.com/blog/">Mike Slinn</a> and I have been learning <a href="https://github.com/jdegoes/blueeyes">BlueEyes</a> - a lightweight Scala web 3.0 framework.  We encountered a piece of Scala that seemed strange and unfamiliar to us:</p>

<pre><code>get { request =&gt;
  // do something
}
</code></pre>

<p>To a Java developer like me this was pretty foreign.  I was able to understand this after I encountered <em>Function Literals</em> in the free <a href="http://typesafe.com/resources/scala-for-the-impatient">Scala for the Impatient</a> book.  So let me break down what is happening here with another example.  Lets start with writing a regular function that takes a <em>Char</em> parameter and returns a <em>Boolean</em> if the provided <em>Char</em> was the letter &#8220;l&#8221;:</p>

<pre><code>def lls(p: Char): Boolean = { p == 'l' }
</code></pre>

<p>This is a pretty straight forward (albeit slightly verbose) function definition.  Oh, and I should mention that if you <a href="http://www.scala-lang.org/downloads">download Scala</a> and run the REPL (a command line interpreter), then you can actually try this code yourself.  To start the Scala REPL just run the &#8220;scala&#8221; command.</p>

<p>Ok, lets test out that function:</p>

<pre><code>lls('p') // outputs false
lls('l') // outputs true
</code></pre>

<p>That should all be somewhat familiar looking for a Java developer.  But here is where things begin to look more foreign.  The <a href="http://www.scala-lang.org/api/current/index.html#scala.collection.immutable.StringOps">StringOps</a> class in Scala has a <em>count</em> method that takes something very peculiar looking.  From the ScalaDoc:</p>

<pre><code>def count (p: (Char) â‡’ Boolean): Int
</code></pre>

<p>That is saying that <em>count</em> takes a function as an argument.  Scala is this wonderful blend of Object Oriented and Functional so this is instantly strange to the Java developer in me.  In this case the function that <em>count</em> is taking must have a single parameter of type <em>Char</em> and then return a <em>Boolean</em>.  So lets try to pass the <em>lls</em> function to <em>count</em> on a <em>StringOps</em> instance.  Somehow with Scala&#8217;s Type Inference system we can just use a regular double-quoted <em>String</em> and Scala will figure out that we need a <em>StringOps</em> instead.  So let&#8217;s create a <em>StringOps</em> object and call count on it passing it the <em>lls</em> function:</p>

<pre><code>"Hello".count(lls) // outputs 2
</code></pre>

<p>I could have assigned &#8220;Hello&#8221; to a variable and done it that way but opted to just make the <em>count</em> call without assigning it.  So <em>count</em> correctly took the <em>lls</em> function and used it to count the number of &#8220;l&#8221; <em>Chars</em> in the <em>String</em> (or <em>SpringOps</em>).  That all works as expected.</p>

<p>But, there is another (prettier) way to do the same thing:</p>

<pre><code>"Hello" count lls // outputs 2
</code></pre>

<p>We can drop the dot operator and parenthesis and everything still works.  But there is another way&#8230;  Instead of referencing a function we can just pass the function definition directly into the count method:</p>

<pre><code>"Hello" count { p:Char =&gt; p == 'l' } // outputs 2
</code></pre>

<p>This is a <strong>Function Literal</strong> - or as Dick Wall tells me, a predicate in this case since it returns a <em>Boolean</em>.  A Function Literal is a short way to define a function that takes only one parameter and returns what is needed by whatever the function is being passed to.  In this case the function parameter is still a Char with an identifier of &#8220;p&#8221; and the function body simply compares &#8220;p&#8221; with the &#8216;l&#8217; <em>Char</em>.  In Scala the value of the last statement in a function is returned.  So the <em>Boolean</em> is returned from the function.  That type is inferred.  And the <em>Char</em> type declaration on &#8220;p&#8221; could have been left off and inferred making it:</p>

<pre><code>"Hello" count { p =&gt; p == 'l' } // outputs 2
</code></pre>

<p>Now that code I started with is making a lot more sense!</p>

<p>But it doesn&#8217;t stop there.  With Scala we can be even more concise:</p>

<pre><code>"Hello" count { _ == 'l' } // still outputs 2
</code></pre>

<p>Now I must admit that I haven&#8217;t really learned what that &#8220;_&#8221; thing does.  So I don&#8217;t totally understand this code yet.  But like learning to understand Shakespeare we have to take it one step at a time.  I will leave that to another day and maybe another blog post.  I hope this was helpful for other Scala noobs.  Let me know what you think and if you have any questions.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">James Ward</span></span>

      








  


<time datetime="2011-10-17T08:16:13-06:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
      

<span class="categories">
  
    <a class='category' href='/categories/scala/'>Scala</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://jamesward.github.com/2011/10/17/learning-scala-function-literals/" data-via="_JamesWard" data-counturl="http://jamesward.github.com/2011/10/17/learning-scala-function-literals/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2011/10/10/heroku-java-user-group-tour-part-1-los-angeles-and-salt-lake-city/" title="Previous Post: Heroku Java User Group Tour Part 1: Los Angeles and Salt Lake City">&laquo; Heroku Java User Group Tour Part 1: Los Angeles and Salt Lake City</a>
      
      
        <a class="basic-alignment right" href="/2011/10/19/running-play-framework-scala-apps-on-heroku/" title="next Post: Running Play Framework + Scala Apps on Heroku">Running Play Framework + Scala Apps on Heroku &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    
<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("_JamesWard", 5, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/_JamesWard" class="twitter-follow-button" data-show-count="false">Follow @_JamesWard</a>
  
</section>


<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/101156657838073927919?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/jamesward">@jamesward</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jamesward',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/12/12/heroku-jug-tour-boulder-phoenix-portland/">Heroku JUG Tour: Boulder, Phoenix, & Portland</a>
      </li>
    
      <li class="post">
        <a href="/2011/12/11/tutorial-play-framework-jpa-json-jquery-heroku/">Tutorial: Play Framework, JPA, JSON, jQuery, & Heroku</a>
      </li>
    
      <li class="post">
        <a href="/2011/11/30/using-mongodb-for-a-java-web-apps-httpsession/">Using MongoDB for a Java Web App's HttpSession</a>
      </li>
    
      <li class="post">
        <a href="/2011/11/30/heroku-java-user-group-tour-columbus-and-orange-county/">Heroku Java User Group Tour: Columbus and Orange County</a>
      </li>
    
      <li class="post">
        <a href="/2011/11/29/heroku-preso-from-devoxx-2011/">Heroku Preso from Devoxx 2011</a>
      </li>
    
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - James Ward -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'jamesward';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
