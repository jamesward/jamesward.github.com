<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Salesforce.com | James Ward]]></title>
  <link href="http://jamesward.github.com/categories/salesforce-com/atom.xml" rel="self"/>
  <link href="http://jamesward.github.com/"/>
  <updated>2011-12-12T21:25:53-07:00</updated>
  <id>http://jamesward.github.com/</id>
  <author>
    <name><![CDATA[James Ward]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Dreamforce 2010 and Cloudstock]]></title>
    <link href="http://jamesward.github.com/2010/11/30/dreamforce-2010-and-cloudstock/"/>
    <updated>2010-11-30T09:24:09-07:00</updated>
    <id>http://jamesward.github.com/2010/11/30/dreamforce-2010-and-cloudstock</id>
    <content type="html"><![CDATA[<p>I'll be speaking at <a href="http://www.salesforce.com/dreamforce/DF10/home/">Dreamforce</a> again this year!  I have two sessions that are going to be super fun!  First is a panel called "Cloud Mobility: Taking Critical Business Functions With You, Whenever, Wherever" on Wednesday at 3:15 PM.  Then on Thursday at 11am I'll be co-presenting a session on "Building Rich User Interfaces with Adobe Flash Builder for Force.com" with Markus Spohn from Salesforce.com.</p>

<p>Preceding Dreamforce is the <a href="http://www.cloudstockevent.com">Cloudstock</a> event where you can see some other great presentations related to Flex and RIAs.  <a href="http://blog.theflashblog.com/">Lee Brimelow</a> will be doing a presentation on "Flex and Flash Platform on the Cloud" that is guaranteed to entertain and educate.  There will also be presentations from Nigel Pegg on Real-time Apps and Keith Sutton on "Adobe’s Cloud Offerings for Developers and Enterprises".</p>

<p>It's going to be a great week!  I hope to see you at Dreamforce 2010!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Webinar Tomorrow: Building Client/Cloud Apps with Flex and Force.com]]></title>
    <link href="http://jamesward.github.com/2010/09/27/webinar-tomorrow-building-clientcloud-apps-with-flex-and-force-com/"/>
    <updated>2010-09-27T07:12:26-06:00</updated>
    <id>http://jamesward.github.com/2010/09/27/webinar-tomorrow-building-clientcloud-apps-with-flex-and-force-com</id>
    <content type="html"><![CDATA[<p>I will co-presenting a <a href="https://www.developerforce.com/events/flash_builder_webinar/registration.php?d=70130000000FNwb">free webinar</a> tomorrow (September 28th, 2010) on building Client/Cloud Apps with Flex and Force.com.  There are two times you can choose from:</p>

<ul>
<li><p>September 28, 2010 | 6:00 a.m. PDT | 2:00 p.m. GMT | 6:30 p.m. IST</p></li>
<li><p>September 28, 2010 | 10:00 a.m. PDT</p></li>
</ul>


<p>This session will walk through how you can get started building applications for the web, desktop, and mobile devices using Flex and Force.com.  Salesforce.com and Adobe have worked together on an extension to the Flash Builder tool which enables developers to quickly build applications on top of the Force.com Cloud platform.  I hope you can join me tomorrow!  <a href="https://www.developerforce.com/events/flash_builder_webinar/registration.php?d=70130000000FNwb">Sign up now!</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bay Area Event: Building RIAs using Flash Builder for Force.com]]></title>
    <link href="http://jamesward.github.com/2010/08/17/bay-area-event-building-rias-using-the-flash-builder-for-force-com/"/>
    <updated>2010-08-17T10:05:10-06:00</updated>
    <id>http://jamesward.github.com/2010/08/17/bay-area-event-building-rias-using-the-flash-builder-for-force-com</id>
    <content type="html"><![CDATA[<p>Salesforce.com is putting on a <a href="https://www.developerforce.com/events/sanmateo_developer_meetup/registration.php">great event</a> on August 25 in San Mateo, California where you can learn about how to build RIAs on the Cloud with <a href="http://developer.force.com/flashbuilder">Flash Builder for Force.com</a>.  This will be a great opportunity to meet the team that built the tool and learn how to use it!  If you can't make it then check out the article I recently published "<a href="http://www.jamesward.com/2010/07/26/building-client-cloud-apps-with-flash-builder-for-force-com/">Building Client / Cloud Apps with Flash Builder for Force.com</a>".  But if you are in the Bay Area and want to get up to speed quickly on building Client / Cloud apps then <a href="https://www.developerforce.com/events/sanmateo_developer_meetup/registration.php">Register Now</a>!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Building Client / Cloud Apps with Flash Builder for Force.com]]></title>
    <link href="http://jamesward.github.com/2010/07/26/building-client-cloud-apps-with-flash-builder-for-force-com/"/>
    <updated>2010-07-26T12:15:25-06:00</updated>
    <id>http://jamesward.github.com/2010/07/26/building-client-cloud-apps-with-flash-builder-for-force-com</id>
    <content type="html"><![CDATA[<p>I have a theory.  The majority of people who use enterprise software today use old school Client / Server apps.  We've been trying to move these apps to the web for more than ten years.  The ease of deployment of web apps is a clear motivator.  Yet the client capabilities of the plain old web browser have not been sufficient for many apps to make the leap.  This is why I love Flex and the Flash Platform.  It provides a way to use web technologies and the web deployment model but adds many of the critical things needed for mission critical apps that people use all day long.</p>

<p>But no one wants to go back to the Client / Server architecture.  We want to embrace Cloud Computing architectures but not lose the client capabilities.  What we really need is the Client / Cloud architecture.  We need a web deployment model that provides ease of deployment but also the ability to install applications on our desktops and mobile devices.</p>

<p>This is why I'm so excited about the new <a href="http://developer.force.com/flashbuilder">Adobe Flash Builder for Force.com</a>.  In a nutshell this is a tool that Adobe and Salesforce.com built together to enable developers to build great software using Flex for the UI and Force.com for the Cloud back-end.  It's a wonderful combination of technologies that will help many Client / Server apps make the switch to Client / Cloud.</p>

<p>Applications created with Flash Builder for Force.com can be run in the browser, on the desktop, and on mobile devices.  These applications can be assembled from the hundreds of Flex components that are out there (check out many of them in <a href="http://flex.org/tour">Tour de Flex</a>).</p>

<p>Check out this video to see how to use Flash Builder for Force.com to build a simple app:</p>

<p>As you can see, it's very easy to get started.  But I wanted to go a step further and try to build something real--something that shows a genuine use case for extending beyond the out-of-the-box Salesforce.com UI.  I wanted to keep it really simple so that I could post the code here.  What I came up with is this (in user story form):</p>

<ul>
<li><p>As a Salesforce.com user I want to take a photo, using my phone, of one of my contacts so that the photo can be saved to their contact record for future reference.</p></li>
<li><p>As a Salesforce.com user I want to see photos I've taken of my contacts so that I can be reminded of what they look like.</p></li>
</ul>


<p>Simple enough.  So here is what I came up with:</p>

<p>To build these two apps I first downloaded and installed <a href="https://www.developerforce.com/events/flashbuilder/registration.php">Flash Builder for Force.com</a>.  I used the <a href="http://www.adobe.com/go/airbetasignup">Adobe AIR for Android prerelease</a> to build the mobile app.  Here is how I created these apps.</p>

<p>First I added a new field to Contact to store the photo.  Salesforce.com doesn't have a binary field so I used a large text field (32k limit).  I'll store the photo Base64 encoded.</p>

<p>Then in Salesforce.com I saved my enterprise.wsdl file. Check out a <a href="http://wiki.developerforce.com/index.php/Demo_Building_Desktop_Client_for_the_Cloud">great video from Dave Carroll</a> to see how to do this.</p>

<p>Now in Flash Builder for Force.com I created a new Force.com Flex Project for the mobile app.  If you do this on your own and want to run on a mobile device then you will need to overlay the AIR for Android SDK on top of a Flex 4.1 SDK.  Select Desktop Application as the app type.  Replace WindowedApplication with just Application.  And replace the F3DesktopApplication with F3WebApplication since F3DesktopApplication uses APIs that are not available on AIR for Android.  (BTW: Flash Builder, Flex, and Force.com Flex Projects do not officially support mobile deployment yet.  It works but there is no support and no guarantees.)  If you are building a standard Web Application or Desktop Application then you can just leave the generated code as is.</p>

<p>Using the Data/Services wizard I connected to Salesforce.com using my enterprise.wsdl file.  After the services and value objects have been generated I modified the Contact object and added a Bindable account property.  The generated application already included the F3DesktopApplication Declaration used to connect to Salesforce.  Due to an incompatibility with that API and AIR for Android I switched it to use F3WebApplication.  In F3WebApplication's loginComplete event handler I query Salesforce.com for Accounts and then Contacts, associate contacts with their account, and then store the contacts:</p>

<pre><code>app.wrapper.query("select Id, Name from Account", new AsyncResponder(function(data:ArrayCollection, token:Object):void {
    accounts = data;
    app.wrapper.query("select Id, AccountId, FirstName, LastName, Phone, MobilePhone, Email, Title, Department, MailingCity, photoData__c from Contact", new AsyncResponder(function(data:ArrayCollection, token:Object):void {
        for each (var contact:Contact in data)
        {
            for each (var account:Account in accounts)
            {
                if (account.Id == contact.AccountId)
                {
                    contact.account = account;                      
                }
            }
        }
        contacts = data;
    }, handleError));
}, handleError));
</code></pre>

<p>Notice in the query that I'm fetching photoData__c, which is the custom field I created on Contact to store the photo.</p>

<p>In the renderer for a contact I need to either display the photo if there is one or let the user add one.  Here is the simple UI code to handle that:</p>

<pre><code>&lt;s:group width="92" top="8" right="8" height="92"&gt;
    &lt;s:rect width="92" height="92"&gt;
        &lt;s:fill&gt;
            &lt;s:solidcolor color="#cccccc"&gt;&lt;/s:solidcolor&gt;
        &lt;/s:fill&gt;
    &lt;/s:rect&gt;
    &lt;s:label verticalalign="middle" text="Add a photo" height="92" width="92" textalign="center" id="addPhoto"&gt;&lt;/s:label&gt;
    &lt;s:bitmapimage width="92" id="photo" height="92"&gt;&lt;/s:bitmapimage&gt;
&lt;/s:group&gt;
</code></pre>

<p>When the contact is set I check to see if there is a photo and if so display it:</p>

<pre><code>if (contact.photoData__c == null)
{
    photo.visible = false;
    return;
}

var decoder:Base64Decoder = new Base64Decoder();
decoder.decode(contact.photoData__c);

var loader:Loader = new Loader();
loader.contentLoaderInfo.addEventListener(Event.COMPLETE, function(event:Event):void {
    photo.source = event.target.content;
    photo.visible = true;
});
loader.loadBytes(decoder.toByteArray());
</code></pre>

<p>The data from the photoData__c field is Base64 decoded and then displayed using the Flex BitmapImage component.</p>

<p>Now when the user clicks on the photo or empty photo box I use the AIR for Android CameraUI to grab a photo, resize it, covert it to a PNG, Base64 encode it, set it on the contact, and then save the contact to Salesforce.com:</p>

<pre><code>if (CameraUI.isSupported)
{
    cameraUI = new CameraUI();
    cameraUI.addEventListener(MediaEvent.COMPLETE, function(event:MediaEvent):void {
        var loader:Loader = new Loader();
        loader.load(new URLRequest(event.data.file.url));
        loader.contentLoaderInfo.addEventListener(Event.COMPLETE, function(event:Event):void {
            var bitmap:Bitmap = event.target.content as Bitmap;

            var result:BitmapData = new BitmapData(46, 46, false);
            var matrix:Matrix = new Matrix();
            matrix.scale(46 / bitmap.width, 46 / bitmap.height);
            result.draw(bitmap, matrix);

            var pngEncoder:PNGEncoder = new PNGEncoder();
            var pngBytes:ByteArray = pngEncoder.encode(result);

            var base64Encoder:Base64Encoder = new Base64Encoder();
            base64Encoder.encodeBytes(pngBytes);
            var encodedImage:String = base64Encoder.flush();

            contact.photoData__c = encodedImage;

            displayPhoto();

            F3WebApplication.getInstance().wrapper.save(contact, new AsyncResponder(function(data:Object, token:Object=null):void {
            }, FlexGlobals.topLevelApplication.handleError));
        });
    });
    cameraUI.addEventListener(ErrorEvent.ERROR, function(event:ErrorEvent):void {
        FlexGlobals.topLevelApplication.handleError(event);
    });
    cameraUI.launch(MediaType.IMAGE);
}
</code></pre>

<p>That's it for the mobile app!  I compiled it, exported it to an Android app, and then copied it to my phone.  Pretty simple and as you can see it works!  One limitation with my approach is the 32k limit of the photoData__c field.  However, I think I could easily get around that by striping the Base64 encoded data across multiple fields.  It's not ideal but it would work.</p>

<p>To display the photo when I view a contact on Salesforce.com I created a very simple Flex app using another Force.com Flex Project.  I could have also added photo upload to this application but chose to keep it simple.  All it does is display the selected contact's photo.  Here is the complete code (after generating the required services in Flash Builder):</p>

<pre><code>&lt;s:application xmlns:flexforforce="http://flexforforce.salesforce.com" xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:s="library://ns.adobe.com/flex/spark" xmlns:mx="library://ns.adobe.com/flex/mx"&gt;

    &lt;fx:script&gt;     
    import mx.rpc.AsyncResponder;
    import mx.utils.Base64Decoder;
    &lt;/fx:script&gt;

    &lt;fx:declarations&gt;
        &lt;flexforforce:f3webapplication id="app" requiredtypes="Contact"&gt;
            &lt;flexforforce:logincomplete&gt;
                app.wrapper.query("select photoData__c from Contact where Id = '" + this.parameters.contactId + "'", new AsyncResponder(function(data:Object, token:Object):void {
                    if (data.length == 1)
                    {
                        if (data[0].photoData__c == null)
                        {
                            photo.visible = false;
                            noPhoto.visible = true;
                            return;
                        }

                        var decoder:Base64Decoder = new Base64Decoder();
                        decoder.decode(data[0].photoData__c);

                        var loader:Loader = new Loader();
                        loader.contentLoaderInfo.addEventListener(Event.COMPLETE, function(event:Event):void {
                            photo.source = event.target.content;
                            photo.visible = true;
                        });
                        loader.loadBytes(decoder.toByteArray());
                    }
                }, function(fault:Object):void {
                    // ignored
                }));
            &lt;/flexforforce:logincomplete&gt;
        &lt;/flexforforce:f3webapplication&gt;
    &lt;/fx:declarations&gt;

    &lt;s:applicationcomplete&gt;
        app.serverUrl = this.parameters.serverUrl;
        app.loginBySessionId(this.parameters.sessionId);
    &lt;/s:applicationcomplete&gt;

    &lt;s:rect width="92" height="92"&gt;
        &lt;s:fill&gt;
            &lt;s:solidcolor color="#cccccc"&gt;&lt;/s:solidcolor&gt;
        &lt;/s:fill&gt;
    &lt;/s:rect&gt;

    &lt;s:label verticalalign="middle" visible="false" text="No Photo" height="92" width="92" textalign="center" id="noPhoto"&gt;&lt;/s:label&gt;

    &lt;s:bitmapimage width="92" id="photo" height="92"&gt;&lt;/s:bitmapimage&gt;

&lt;/s:application&gt;
</code></pre>

<p>Finally I created a custom S-Control to run the Flex app:</p>

<pre><code>&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="92" codebase="https://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab" id="ContactPhoto" height="92"&gt; 
    &lt;param name="movie" value="{!Scontrol.JavaArchive}"&gt;&lt;/param&gt; 
    &lt;param name="flashvars" value="sessionId={!API.Session_ID}&amp;serverUrl={!API.Partner_Server_URL_90}&amp;contactId={!Contact.Id}"&gt;&lt;/param&gt; 
    &lt;embed src="{!Scontrol.JavaArchive}" pluginspage="http://www.adobe.com/go/getflashplayer" name="ContactPhoto" height="92" width="92" type="application/x-shockwave-flash" flashvars="sessionId={!API.Session_ID}&amp;serverUrl={!API.Partner_Server_URL_90}&amp;contactId={!Contact.Id}"&gt; 
    &lt;/embed&gt; 
&lt;/object&gt;
</code></pre>

<p>I uploaded the compiled Flex app to the S-Control and added it to the Contact page.  And that's it!  In just a few hours I extended Force.com and built a cool mobile app.  I could also have easily created a desktop widget for browsing contacts and adding photos.  If you are looking for a fun project to use as a way to learn this stuff that would be a good one!  :)</p>

<p>Here are some resources to help you get started with Flash Builder for Force.com:</p>

<ul>
<li><p><a href="http://wiki.developerforce.com/index.php/Force.com_Flex_Quick_Start_Tutorial">Force.com Flex Quick Start Tutorial</a></p></li>
<li><p><a href="http://developerforce.s3.amazonaws.com/website/afb/docs/ASDoc_Flex/index.html">Force.com Flex Project APIs for Web Applications</a></p></li>
<li><p><a href="http://developerforce.s3.amazonaws.com/website/afb/docs/ASDoc_AIR/index.html">Force.com Flex Project APIs for Desktop Applications</a></p></li>
<li><p><a href="http://developer.force.com/flashbuilder">Numerous other demo applications and tutorials</a></p></li>
<li><p><a href="http://github.com/jamesward/MobileContacts">Source code for my mobile contacts demo</a></p></li>
<li><p><a href="http://github.com/jamesward/WebContactSControl">Source code for my web contact photo viewer demo</a></p></li>
</ul>


<p>Have fun building the next generation of software!  Let me know how it goes.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Flash Platform and Salesforce.com Webinar and Mobile App]]></title>
    <link href="http://jamesward.github.com/2010/05/26/flash-platform-and-salesforce-com-webinar-and-mobile-app/"/>
    <updated>2010-05-26T09:59:31-06:00</updated>
    <id>http://jamesward.github.com/2010/05/26/flash-platform-and-salesforce-com-webinar-and-mobile-app</id>
    <content type="html"><![CDATA[<p>Client + Cloud technologies have been quickly evolving and maturing.  The combination of Flex and Salesforce.com continue to lead the way for next generation Client + Cloud applications.  Recently I did a <a href="http://seminars.adobe.acrobat.com/p26603860/">Webinar on The Flash Platform and Salesforce.com</a> with Dave Carroll from Salesforce.  If you missed it you can watch the recording to see how you can begin developing Client + Cloud apps.  Also <a href="http://blog.jeffdouglas.com/2010/02/01/adobe-air-applications-with-salesforce/">watch Jeff Douglas demo an offline case management app</a> he built with Flex and Force.com.  Awesome stuff!</p>

<p>Last week I was able to spend a few hours with <a href="http://www.modelmetrics.com">Model Metrics</a> porting their <a href="http://www.modelmetrics.com/solutions/2go-mobile-cloud-platform/">Pharma2GO Adobe AIR app</a> to run on an Android Mobile device.  Using the <a href="http://labs.adobe.com/technologies/air2/android/">AIR for Android Prerelease</a> we quickly created a mobile friendly UI with Flex and reused the same data sync code from the desktop app.  Check out the end result:</p>

<p>Listen to what Model Metrics had to say about this in their blog "<a href="http://www.modelmetrics.com/general/html-5-%E2%80%93-ready-for-primetime-in-the-enterprise/">HTML 5 – Ready for Primetime in the Enterprise?</a>":</p>

<blockquote><p>One of our early iPhone products on the iTunes AppStore was Search2GO, a simple search tool for Salesforce.com.  This was built in Objective C and it took approximately 8 weeks to develop.  Yesterday I watched two developers create over half of this same functionality using Flex/AIR and had it running on an Android phone in a day.  Granted there are still things that could be added, but this was a great illustration of why Flex/AIR is a great toolset.</p></blockquote>

<p>These are exciting times for Client + Cloud apps now that the "Client" can easily be on the web, desktop, and mobile device using the same technologies and tools!</p>
]]></content>
  </entry>
  
</feed>
