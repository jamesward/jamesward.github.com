
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>How to Define Styles on Skins in Flex 4 - James Ward</title>
  <meta name="author" content="James Ward">

  
  <meta name="description" content="The new component / skin separation in Flex 4 (the Spark Architecture) is pretty nifty. But if you want to add a configurable style to a skin then &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jamesward.github.com/2010/07/30/how-to-define-styles-on-skins-in-flex-4">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="James Ward" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-784803-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">James Ward</a></h1>
  
    <h2>Heroku | Java | Scala | Cloud | Open Source | Linux</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jamesward.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about-james-ward">About James Ward</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">How to Define Styles on Skins in Flex 4</h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-30T07:49:38-06:00" pubdate data-updated="true">Jul 30<span>th</span>, 2010</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>The new component / skin separation in Flex 4 (the Spark Architecture) is pretty nifty.  But if you want to add a configurable style to a skin then that style must be defined on the component.  For instance if you want to add a backgroundColor style to a Button skin then you need to first create a new Button component with the style on it:</p>

<pre><code>package
{
import spark.components.Button;

[Style(name="backgroundColor", type="uint", format="Color")]
public class SButton extends Button
{

}
}
</code></pre>

<p>Then create a new Button skin that uses the style:</p>

<pre><code>&lt;s:sparkskin xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:s="library://ns.adobe.com/flex/spark"&gt;

  &lt;fx:script&gt;
    import mx.utils.ColorUtil;
  &lt;/fx:script&gt;

  &lt;s:states&gt;
    &lt;s:state name="up"&gt;&lt;/s:state&gt;
    &lt;s:state name="over"&gt;&lt;/s:state&gt;
    &lt;s:state name="down"&gt;&lt;/s:state&gt;
  &lt;/s:states&gt;

  &lt;s:rect width="100%" height="100%"&gt;
    &lt;s:fill&gt;
      &lt;s:solidcolor color="{getStyle('backgroundColor')}" color.over="{ColorUtil.adjustBrightness2(getStyle('backgroundColor'), 64)}" color.down="{ColorUtil.adjustBrightness2(getStyle('backgroundColor'), -32)}"&gt;&lt;/s:solidcolor&gt;
    &lt;/s:fill&gt;
  &lt;/s:rect&gt;

  &lt;s:label paddingright="3" paddingbottom="3" paddingleft="3" id="labelDisplay" paddingtop="6"&gt;&lt;/s:label&gt;

&lt;/s:sparkskin&gt;
</code></pre>

<p>Then you can use the new Button and skin:</p>

<pre><code>  &lt;sbutton skinclass="SButtonSkin" backgroundcolor="#ff0000" label="backgroundColor = #ff0000"&gt;&lt;/sbutton&gt;
  &lt;sbutton skinclass="SButtonSkin" backgroundcolor="#0000ff" label="backgroundColor = #0000ff"&gt;&lt;/sbutton&gt;
</code></pre>

<p>The reason that we had to create a new base class just to hold the style is because there would be no other way to set the style in MXML.  We could have set the style via CSS or setStyle.  Button does not have a style named &#8220;backgroundColor&#8221; so if we hadn&#8217;t created SButton and tried to just set a backgroundColor property on a Button instance via MXML, the compiler would have thrown an error.</p>

<p>So I (with the help of <a href="http://frishy.blogspot.com/">Ryan Frishberg</a> and <a href="http://blogs.digitalprimates.net/codeslinger/">Mike Labriola</a>) came up with a nifty little way to set styles on skins without having to create new base classes to hold the styles.  The idea is that styles should be defined on the skins and you can use a property on the base components to set those styles via MXML.  To make it happen I had to Monkey Patch a property named &#8220;style&#8221; onto UIComponent.  In the setter for that style I just parse a string of HTML-ish styles and  call setStyle.  The cool thing is that I&#8217;m calling setStyle on the component but since skins inherit the styles of their host component the skin gets the styles.  This also means that the styles don&#8217;t really need to be defined on the skins.  Just used in the skins.  Using the example above to set the backgroundColor on the Button I could just do:</p>

<pre><code>  &lt;s:button skinclass="SButtonSkin" style="backgroundColor: #ff0000" label="backgroundColor = #ff0000"&gt;&lt;/s:button&gt;
</code></pre>

<p>I didn&#8217;t need a new Button class just to set the backgroundColor style.  Here is a more complex example with more styles on the skin:</p>

<p>All of those buttons are using the same skin and the base Spark Button!  The code for this example is <a href="http://github.com/jamesward/Styles4Skins">on github</a>.  So check it out, fork it, and have fun.  Let me know if you have any questions.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">James Ward</span></span>

      








  


<time datetime="2010-07-30T07:49:38-06:00" pubdate data-updated="true">Jul 30<span>th</span>, 2010</time>
      

<span class="categories">
  
    <a class='category' href='/categories/flex/'>Flex</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://jamesward.github.com/2010/07/30/how-to-define-styles-on-skins-in-flex-4/" data-via="_JamesWard" data-counturl="http://jamesward.github.com/2010/07/30/how-to-define-styles-on-skins-in-flex-4/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2010/07/26/building-client-cloud-apps-with-flash-builder-for-force-com/" title="Previous Post: Building Client / Cloud Apps with Flash Builder for Force.com">&laquo; Building Client / Cloud Apps with Flash Builder for Force.com</a>
      
      
        <a class="basic-alignment right" href="/2010/08/17/bay-area-event-building-rias-using-the-flash-builder-for-force-com/" title="next Post: Bay Area Event: Building RIAs using Flash Builder for Force.com">Bay Area Event: Building RIAs using Flash Builder for Force.com &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    
<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("_JamesWard", 5, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/_JamesWard" class="twitter-follow-button" data-show-count="false">Follow @_JamesWard</a>
  
</section>


<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/101156657838073927919?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/jamesward">@jamesward</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jamesward',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/12/12/heroku-jug-tour-boulder-phoenix-portland/">Heroku JUG Tour: Boulder, Phoenix, & Portland</a>
      </li>
    
      <li class="post">
        <a href="/2011/12/11/tutorial-play-framework-jpa-json-jquery-heroku/">Tutorial: Play Framework, JPA, JSON, jQuery, & Heroku</a>
      </li>
    
      <li class="post">
        <a href="/2011/11/30/using-mongodb-for-a-java-web-apps-httpsession/">Using MongoDB for a Java Web App's HttpSession</a>
      </li>
    
      <li class="post">
        <a href="/2011/11/30/heroku-java-user-group-tour-columbus-and-orange-county/">Heroku Java User Group Tour: Columbus and Orange County</a>
      </li>
    
      <li class="post">
        <a href="/2011/11/29/heroku-preso-from-devoxx-2011/">Heroku Preso from Devoxx 2011</a>
      </li>
    
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - James Ward -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'jamesward';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
